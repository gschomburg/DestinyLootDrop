(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var SoundFX, after, drop, launch, loadDependencies, loadDrop, loadItemData, reset, snd;

launch = function() {
  var arms, chest, head, heavy, legs, primary, special;
  window.baseurl = "http://designergroupies.com/lootdrop/";
  loadDependencies();
  snd.test();
  snd.load(window.baseurl + "lootTest.mp4");
  heavy = [3191797830, 3191797831, 3705198528, 1274330687, 1274330686];
  primary = [119482464, 119482466, 2809229973, 119482465, 346443849, 3164616407, 3164616405, 3164616404, 135862170, 135862171, 3490486524, 3490486525, 1389842217, 2681212685];
  special = [346443851, 346443850, 1389842216, 3118679308, 3118679309];
  head = [144553854, 2994845057, 2771018501, 94883184, 2994845058, 2994845059, 144553855, 2771018502, 144553853, 3455371673, 2771018500, 3577254054];
  arms = [2927156752, 4146057409, 4132383826, 2591213943, 2335332317, 78421062];
  chest = [499191786, 2272644374, 1398023011, 499191787, 287395896, 2272644375, 1398023010];
  legs = [104781337, 921478195];
  window.categories = [heavy, primary, special, head, arms, chest, legs];
  return loadDrop();
};

reset = function() {};

loadDependencies = function() {
  var cssId, head, link;
  cssId = "dropCss";
  if (!document.getElementById(cssId)) {
    head = document.getElementsByTagName("head")[0];
    link = document.createElement("link");
    link.id = cssId;
    link.rel = "stylesheet";
    link.type = "text/css";
    link.href = window.baseurl + "css/loot.css";
    link.media = "all";
    return head.appendChild(link);
  }
};

loadDrop = function() {
  var category, container, i, items, ref, results;
  if (!document.getElementById("loot-container")) {
    container = document.createElement("div");
    container.id = "loot-container";
    document.body.appendChild(container);
  }
  items = [];
  window.imgPaths = [];
  window.dropCount = Math.ceil(Math.random() * 4);
  results = [];
  for (i = 0, ref = window.dropCount; 0 <= ref ? i < ref : i > ref; 0 <= ref ? i++ : i--) {
    category = window.categories[Math.floor(Math.random() * window.categories.length)];
    results.push(loadItemData(category[Math.floor(Math.random() * category.length)]));
  }
  return results;
};

drop = function() {
  var fn, i, imgPath, index, item, itemE, len, ref, results, t;
  console.log("drop");
  t = 300;
  ref = window.imgPaths;
  fn = function(itemE) {
    return after(t, (function(_this) {
      return function() {
        itemE.classList.add("reward");
        return snd.play();
      };
    })(this));
  };
  results = [];
  for (index = i = 0, len = ref.length; i < len; index = ++i) {
    item = ref[index];
    itemE = document.createElement("div");
    itemE.classList.add("loot");
    imgPath = window.imgPaths[index];
    itemE.innerHTML = "<div class=\"item\">\n	<img src=\"" + imgPath + "\" />\n</div>\n<div class=\"sparkles\">\n	<div class=\"sparkle\"></div>\n	<div class=\"sparkle\"></div>\n	<div class=\"sparkle\"></div>\n	<div class=\"sparkle\"></div>\n	<div class=\"sparkle\"></div>\n	<div class=\"sparkle\"></div>\n	<div class=\"sparkle\"></div>\n	<div class=\"sparkle\"></div>\n</div>";
    document.getElementById("loot-container").appendChild(itemE);
    fn(itemE);
    results.push(t += 120);
  }
  return results;
};

after = function(t, f) {
  return setTimeout(f, t);
};

loadItemData = function(hash) {
  var request;
  request = new XMLHttpRequest();
  return (function(request) {
    var query, url;
    url = "http://query.yahooapis.com/v1/public/yql";
    query = "?q=" + encodeURIComponent("select * from json where url=\"http://www.bungie.net/platform/Destiny/Manifest/InventoryItem/" + hash + "/?fmt=JSON\"") + "&format=json";
    request.open('GET', url + query, true);
    request.onload = function() {
      if (request.status >= 200 && request.status < 400) {
        window.imgPaths.push("http://www.bungie.net" + JSON.parse(request.responseText).query.results.json.Response.data.inventoryItem.icon);
        if (window.imgPaths.length >= window.dropCount) {
          return drop();
        }
      } else {

      }
    };
    request.onerror = function() {
      return console.log("request.onerror");
    };
    return request.send();
  })(request);
};

SoundFX = (function() {
  function SoundFX() {
    this.soundBuffer = null;
    this.loaded = false;
    window.AudioContext = window.AudioContext || window.webkitAudioContext;
    this.context = new AudioContext();
    console.log(this.context);
  }

  SoundFX.prototype.load = function(url1) {
    var request;
    this.url = url1;
    request = new XMLHttpRequest();
    request.open('GET', this.url, true);
    request.responseType = 'arraybuffer';
    request.onload = (function(_this) {
      return function() {
        return _this.context.decodeAudioData(request.response, function(buffer) {
          _this.soundBuffer = buffer;
          _this.loaded = true;
          return console.log("loaded sound", _this);
        });
      };
    })(this);
    return request.send();
  };

  SoundFX.prototype.play = function() {
    var source;
    if (this.loaded === false) {
      return;
    }
    source = this.context.createBufferSource();
    source.buffer = this.soundBuffer;
    source.connect(this.context.destination);
    return source.start(0);
  };

  return SoundFX;

})();

console.log("main.js");

snd = new SoundFX();

launch();



},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9nc2Nob21idXJnL0RvY3VtZW50cy9QZXJzb25hbC9odG1scy9EZXN0aW55TG9vdERyb3Avbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL1VzZXJzL2dzY2hvbWJ1cmcvRG9jdW1lbnRzL1BlcnNvbmFsL2h0bWxzL0Rlc3RpbnlMb290RHJvcC9zcmMvanMvbWFpbi5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNDQSxJQUFBLGtGQUFBOztBQUFBLE1BQUEsR0FBUyxTQUFBLEdBQUE7QUFFUixNQUFBLGdEQUFBO0FBQUEsRUFBQSxNQUFNLENBQUMsT0FBUCxHQUFpQix1Q0FBakIsQ0FBQTtBQUFBLEVBQ0EsZ0JBQUEsQ0FBQSxDQURBLENBQUE7QUFBQSxFQUdBLEdBQUcsQ0FBQyxJQUFKLENBQUEsQ0FIQSxDQUFBO0FBQUEsRUFJQSxHQUFHLENBQUMsSUFBSixDQUFTLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLGNBQTFCLENBSkEsQ0FBQTtBQUFBLEVBT0EsS0FBQSxHQUFPLENBQUMsVUFBRCxFQUFZLFVBQVosRUFBdUIsVUFBdkIsRUFBa0MsVUFBbEMsRUFBNkMsVUFBN0MsQ0FQUCxDQUFBO0FBQUEsRUFRQSxPQUFBLEdBQVMsQ0FBQyxTQUFELEVBQVcsU0FBWCxFQUFxQixVQUFyQixFQUFnQyxTQUFoQyxFQUEwQyxTQUExQyxFQUFvRCxVQUFwRCxFQUErRCxVQUEvRCxFQUEwRSxVQUExRSxFQUFxRixTQUFyRixFQUErRixTQUEvRixFQUF5RyxVQUF6RyxFQUFvSCxVQUFwSCxFQUErSCxVQUEvSCxFQUEwSSxVQUExSSxDQVJULENBQUE7QUFBQSxFQVNBLE9BQUEsR0FBUyxDQUFDLFNBQUQsRUFBVyxTQUFYLEVBQXFCLFVBQXJCLEVBQWdDLFVBQWhDLEVBQTJDLFVBQTNDLENBVFQsQ0FBQTtBQUFBLEVBVUEs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QUEsQ0FBM0MsRUFEZTtNQUFBLEVBQUE7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBSGpCLENBQUE7V0FTQyxPQUFPLENBQUMsSUFBUixDQUFBLEVBVkc7RUFBQSxDQVJMLENBQUE7O0FBQUEsb0JBb0JBLElBQUEsR0FBSyxTQUFBLEdBQUE7QUFDSixRQUFBLE1BQUE7QUFBQSxJQUFBLElBQUcsSUFBQyxDQUFBLE1BQUQsS0FBVyxLQUFkO0FBQ0MsWUFBQSxDQUREO0tBQUE7QUFBQSxJQUdBLE1BQUEsR0FBUyxJQUFDLENBQUEsT0FBTyxDQUFDLGtCQUFULENBQUEsQ0FIVCxDQUFBO0FBQUEsSUFJQSxNQUFNLENBQUMsTUFBUCxHQUFnQixJQUFDLENBQUEsV0FKakIsQ0FBQTtBQUFBLElBS0EsTUFBTSxDQUFDLE9BQVAsQ0FBZSxJQUFDLENBQUEsT0FBTyxDQUFDLFdBQXhCLENBTEEsQ0FBQTtXQU1BLE1BQU0sQ0FBQyxLQUFQLENBQWEsQ0FBYixFQVBJO0VBQUEsQ0FwQkwsQ0FBQTs7aUJBQUE7O0lBbktELENBQUE7O0FBQUEsT0EyTU8sQ0FBQyxHQUFSLENBQVksU0FBWixDQTNNQSxDQUFBOztBQUFBLEdBOE1BLEdBQVUsSUFBQSxPQUFBLENBQUEsQ0E5TVYsQ0FBQTs7QUFBQSxNQStNQSxDQUFBLENBL01BLENBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXG5sYXVuY2ggPSAoKS0+XG5cdCMgY29uc29sZS5sb2coXCJsYXVuY2hcIilcblx0d2luZG93LmJhc2V1cmwgPSBcImh0dHA6Ly9kZXNpZ25lcmdyb3VwaWVzLmNvbS9sb290ZHJvcC9cIlxuXHRsb2FkRGVwZW5kZW5jaWVzKClcblx0XG5cdHNuZC50ZXN0KClcblx0c25kLmxvYWQgd2luZG93LmJhc2V1cmwgKyBcImxvb3RUZXN0Lm1wNFwiXG5cblx0I2xvYWQgaW4gdGhlIGRhdGEgYWxsIGV4b3RpY3MuLi4gb3IganVzdCBzYXZlIHRoZSBoYXNoZXMgbG9jYWxseVxuXHRoZWF2eSA9WzMxOTE3OTc4MzAsMzE5MTc5NzgzMSwzNzA1MTk4NTI4LDEyNzQzMzA2ODcsMTI3NDMzMDY4Nl1cblx0cHJpbWFyeSA9WzExOTQ4MjQ2NCwxMTk0ODI0NjYsMjgwOTIyOTk3MywxMTk0ODI0NjUsMzQ2NDQzODQ5LDMxNjQ2MTY0MDcsMzE2NDYxNjQwNSwzMTY0NjE2NDA0LDEzNTg2MjE3MCwxMzU4NjIxNzEsMzQ5MDQ4NjUyNCwzNDkwNDg2NTI1LDEzODk4NDIyMTcsMjY4MTIxMjY4NV1cblx0c3BlY2lhbCA9WzM0NjQ0Mzg1MSwzNDY0NDM4NTAsMTM4OTg0MjIxNiwzMTE4Njc5MzA4LDMxMTg2NzkzMDldXG5cdGhlYWQgPVsxNDQ1NTM4NTQsMjk5NDg0NTA1NywyNzcxMDE4NTAxLDk0ODgzMTg0LDI5OTQ4NDUwNTgsMjk5NDg0NTA1OSwxNDQ1NTM4NTUsMjc3MTAxODUwMiwxNDQ1NTM4NTMsMzQ1NTM3MTY3MywyNzcxMDE4NTAwLDM1NzcyNTQwNTRdXG5cdGFybXMgPVsyOTI3MTU2NzUyLDQxNDYwNTc0MDksNDEzMjM4MzgyNiwyNTkxMjEzOTQzLDIzMzUzMzIzMTcsNzg0MjEwNjJdXG5cdGNoZXN0ID1bNDk5MTkxNzg2LDIyNzI2NDQzNzQsMTM5ODAyMzAxMSw0OTkxOTE3ODcsMjg3Mzk1ODk2LDIyNzI2NDQzNzUsMTM5ODAyMzAxMF1cblx0bGVncyA9WzEwNDc4MTMzNyw5MjE0NzgxOTVdXG5cdHdpbmRvdy5jYXRlZ29yaWVzID0gW2hlYXZ5LCBwcmltYXJ5LCBzcGVjaWFsLCBoZWFkLCBhcm1zLCBjaGVzdCwgbGVnc11cblxuXHQjIGNvbnNvbGUubG9nIFwiZHJvcHBpbmdcIlxuXG5cdFxuXHQjcGljayBzb21lIHJhbmRvbSBleG90aWNzXG5cblx0I2xvYWQgdGhlIGRhdGEgLS0gaHR0cDovL3d3dy5idW5naWUubmV0L3BsYXRmb3JtL0Rlc3RpbnkvTWFuaWZlc3QvSW52ZW50b3J5SXRlbS80MDA3MjI4ODgyL1xuXHQjIGl0ZW1QYXRoID0gXCJodHRwOi8vd3d3LmJ1bmdpZS5uZXQvcGxhdGZvcm0vRGVzdGlueS9NYW5pZmVzdC9JbnZlbnRvcnlJdGVtLyN7aGVhdnlbMF19L1wiXG5cdFxuXHQjIHdpbmRvdy5kcm9wU291bmQgPSBuZXcgSG93bCh7XG5cdCMgXHRcdFx0XHRcdHVybHM6Wydsb290VGVzdC5tcDQnXSwgXG5cdCMgXHRcdFx0XHRcdHNwcml0ZTp7Y2h1bms6WzAsMTUwMF19XG5cdCMgXHRcdFx0XHRcdH0pXG5cblxuXHRcblx0bG9hZERyb3AoKTtcbnJlc2V0ID0gKCktPlxuXHQjcmVzZXQgYWxsIHRoZSB2YWx1ZXNcblxubG9hZERlcGVuZGVuY2llcyA9ICgpLT5cblx0Y3NzSWQgPSBcImRyb3BDc3NcIlxuXHRpZiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3NzSWQpXG5cdFx0aGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXVxuXHRcdGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKVxuXHRcdGxpbmsuaWQgPSBjc3NJZFxuXHRcdGxpbmsucmVsID0gXCJzdHlsZXNoZWV0XCJcblx0XHRsaW5rLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdFx0bGluay5ocmVmID0gd2luZG93LmJhc2V1cmwgKyBcImNzcy9sb290LmNzc1wiXG5cdFx0bGluay5tZWRpYSA9IFwiYWxsXCI7XG5cdFx0aGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcblxubG9hZERyb3AgPSAoKS0+XG5cdGlmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvb3QtY29udGFpbmVyXCIpXG5cdFx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuXHRcdGNvbnRhaW5lci5pZCA9IFwibG9vdC1jb250YWluZXJcIlxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuXHRpdGVtcyA9IFtdXG5cdHdpbmRvdy5pbWdQYXRocyA9IFtdXG5cdCNjaG9vc2UgbnVtYmVyIG9mIGl0ZW1zIHRvIGRyb3Bcblx0d2luZG93LmRyb3BDb3VudCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjQpXG5cdGZvclswLi4ud2luZG93LmRyb3BDb3VudF1cblx0XHQjcGljayBhIHJhbmRvbSByYXJpdHk/XG5cblx0XHQjcGljayBhIHJhbmRvbSBjYXRlZ29yeVxuXHRcdGNhdGVnb3J5ID0gd2luZG93LmNhdGVnb3JpZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKndpbmRvdy5jYXRlZ29yaWVzLmxlbmd0aCldXG5cdFx0I3BpY2sgYSByYW5kb20gaXRlbVxuXHRcdCMgaXRlbXMucHVzaChsb2FkSXRlbShjYXRlZ29yeVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqY2F0ZWdvcnkubGVuZ3RoKV0pKVxuXG5cdFx0bG9hZEl0ZW1EYXRhIGNhdGVnb3J5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpjYXRlZ29yeS5sZW5ndGgpXVxuXG5cdFxuXHQjICQud2hlbi5hcHBseSh0aGlzLCBpdGVtcykuZG9uZSBkYXRhTG9hZGVkXG5cbmRyb3AgPSAoKS0+XG5cdGNvbnNvbGUubG9nIFwiZHJvcFwiXG5cdFxuXHR0ID0gMzAwXG5cdGZvciBpdGVtLCBpbmRleCBpbiB3aW5kb3cuaW1nUGF0aHNcblx0XHQjIGl0ZW1FID0gJChpdGVtVGVtcGxhdGUpXG5cdFx0aXRlbUUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5cdFx0aXRlbUUuY2xhc3NMaXN0LmFkZCBcImxvb3RcIlxuXHRcdGltZ1BhdGggPSB3aW5kb3cuaW1nUGF0aHNbaW5kZXhdXG5cdFx0aXRlbUUuaW5uZXJIVE1MID0gXCJcIlwiXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiaXRlbVwiPlxuXHRcdFx0XHQ8aW1nIHNyYz1cIiN7aW1nUGF0aH1cIiAvPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwic3BhcmtsZXNcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInNwYXJrbGVcIj48L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInNwYXJrbGVcIj48L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInNwYXJrbGVcIj48L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInNwYXJrbGVcIj48L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInNwYXJrbGVcIj48L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInNwYXJrbGVcIj48L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInNwYXJrbGVcIj48L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInNwYXJrbGVcIj48L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcIlwiXCJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvb3QtY29udGFpbmVyXCIpLmFwcGVuZENoaWxkIGl0ZW1FXG5cblx0XHRkbyAoaXRlbUUpLT5cblx0XHRcdGFmdGVyIHQsICgpPT5cblx0XHRcdFx0aXRlbUUuY2xhc3NMaXN0LmFkZCBcInJld2FyZFwiXG5cdFx0XHRcdCMgd2luZG93LmRyb3BTb3VuZC5wbGF5KCdjaHVuaycpXG5cdFx0XHRcdHNuZC5wbGF5KClcblx0XHR0ICs9IDEyMFxuXG5hZnRlciA9ICh0LCBmKSAtPlxuXHRzZXRUaW1lb3V0IGYsIHRcblxuIyBkYXRhTG9hZGVkID0gKCktPlxuIyBcdGNvbnNvbGUuaW5mbyBcImRhdGEgbG9hZGVkLlwiXG4jIFx0ZHJvcCgpXG5cdCMgJChcIi5sb290XCIpLnRvZ2dsZUNsYXNzKFwicmV3YXJkXCIpXG5cdFxuXG4jIGxvYWRJdGVtID0gKGhhc2gpLT5cbiMgXHRyZXR1cm4gJC5nZXRKU09OIFwiaHR0cDovL3F1ZXJ5LnlhaG9vYXBpcy5jb20vdjEvcHVibGljL3lxbFwiLFxuIyBcdFx0e1xuIyBcdFx0cTogXCJzZWxlY3QgKiBmcm9tIGpzb24gd2hlcmUgdXJsPVxcXCJodHRwOi8vd3d3LmJ1bmdpZS5uZXQvcGxhdGZvcm0vRGVzdGlueS9NYW5pZmVzdC9JbnZlbnRvcnlJdGVtLyN7aGFzaH0vP2ZtdD1KU09OXFxcIlwiLFxuIyBcdFx0Zm9ybWF0OiBcImpzb25cIlxuIyBcdFx0fSxcbiMgXHRcdChkYXRhKS0+XHRcdFxuIyBcdFx0XHRpZiAoZGF0YS5xdWVyeS5yZXN1bHRzKVxuIyBcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJzb21ldGhpbmdcIlxuIyBcdFx0XHRcdCMgZG8gc29tZXRoaW5nIHdpdGhcbiMgXHRcdFx0XHRjb25zb2xlLmxvZyBkYXRhLnF1ZXJ5LnJlc3VsdHMuanNvbi5SZXNwb25zZS5kYXRhLmludmVudG9yeUl0ZW1cbiMgXHRcdFx0XHR3aW5kb3cuaW1nUGF0aHMucHVzaChcImh0dHA6Ly93d3cuYnVuZ2llLm5ldFwiICsgZGF0YS5xdWVyeS5yZXN1bHRzLmpzb24uUmVzcG9uc2UuZGF0YS5pbnZlbnRvcnlJdGVtLmljb24pXG4jIFx0XHRcdFx0IyBkYXRhLnF1ZXJ5LnJlc3VsdHMuanNvbi5uYW1lXG5cbiMgXHRcdFx0XHQjIGRhdGEucXVlcnkucmVzdWx0cy5qc29uLmxvY2F0aW9uXG4jIFx0XHRcdGVsc2VcbiMgXHRcdFx0XHQjbm90aGluZ1xuIyBcdFx0XHRcdGNvbnNvbGUubG9nIFwibm90aGluZ1wiXG5cblxuXG5sb2FkSXRlbURhdGEgPSAoaGFzaCktPlxuXHQjaHR0cDovL3F1ZXJ5LnlhaG9vYXBpcy5jb20vdjEvcHVibGljL3lxbD9xPXNlbGVjdCsqK2Zyb20ranNvbit3aGVyZSt1cmwlM0QlMjJodHRwJTNBJTJGJTJGd3d3LmJ1bmdpZS5uZXQlMkZwbGF0Zm9ybSUyRkRlc3RpbnklMkZNYW5pZmVzdCUyRkludmVudG9yeUl0ZW0lMkYxMzU4NjIxNzAlMkYlM0ZmbXQlM0RKU09OJTIyJmZvcm1hdD1qc29uXG5cdCNodHRwOi8vcXVlcnkueWFob29hcGlzLmNvbS92MS9wdWJsaWMveXFsP3ElM0RzZWxlY3QlMjAqJTIwZnJvbSUyMGpzb24lMjB3aGXigKYyRk1hbmlmZXN0JTJGSW52ZW50b3J5SXRlbSUyRjMxNjQ2MTY0MDUlMkYlM0ZmbXQlM0RKU09OJTIyJTI2Zm9ybWF0JTNEanNvblxuXG5cdHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0ZG8gKHJlcXVlc3QpLT5cblx0XHR1cmwgPSBcImh0dHA6Ly9xdWVyeS55YWhvb2FwaXMuY29tL3YxL3B1YmxpYy95cWxcIlxuXHRcdHF1ZXJ5ID0gXCI/cT1cIiArIGVuY29kZVVSSUNvbXBvbmVudChcInNlbGVjdCAqIGZyb20ganNvbiB3aGVyZSB1cmw9XFxcImh0dHA6Ly93d3cuYnVuZ2llLm5ldC9wbGF0Zm9ybS9EZXN0aW55L01hbmlmZXN0L0ludmVudG9yeUl0ZW0vI3toYXNofS8/Zm10PUpTT05cXFwiXCIpICsgXCImZm9ybWF0PWpzb25cIlxuXHRcdCMgY29uc29sZS5sb2cgdXJsK3F1ZXJ5XG5cdFx0cmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwrcXVlcnksIHRydWUpO1xuXHRcdHJlcXVlc3Qub25sb2FkID0gKCktPlxuXHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID49IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyA8IDQwMClcblx0XHRcdFx0IyBjb25zb2xlLmxvZyBcInN1Y2Nlc3NcIiwgSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dClcblx0XHRcdFx0IyB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuXHRcdFx0XHR3aW5kb3cuaW1nUGF0aHMucHVzaChcImh0dHA6Ly93d3cuYnVuZ2llLm5ldFwiICsgSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCkucXVlcnkucmVzdWx0cy5qc29uLlJlc3BvbnNlLmRhdGEuaW52ZW50b3J5SXRlbS5pY29uKVxuXHRcdFx0XHRpZiB3aW5kb3cuaW1nUGF0aHMubGVuZ3RoID49IHdpbmRvdy5kcm9wQ291bnRcblx0XHRcdFx0XHRkcm9wKClcblx0XHRcdGVsc2Vcblx0XHRcdFx0IyBjb25zb2xlLmVycm9yIFwibG9hZCBmYWlsZWRcIlxuXG5cdFx0cmVxdWVzdC5vbmVycm9yID0gKCktPlxuXHRcdFx0Y29uc29sZS5sb2cgXCJyZXF1ZXN0Lm9uZXJyb3JcIlxuXG5cdFx0cmVxdWVzdC5zZW5kKClcblxuY2xhc3MgU291bmRGWFxuI2F1ZGlvIGp1bmtcblxuXHRjb25zdHJ1Y3RvcjooKS0+XG5cdFx0QHNvdW5kQnVmZmVyID0gbnVsbFxuXHRcdEBsb2FkZWQ9ZmFsc2Vcblx0XHQjIC8vIEZpeCB1cCBwcmVmaXhpbmdcblx0XHR3aW5kb3cuQXVkaW9Db250ZXh0ID0gd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0XG5cdFx0QGNvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KClcblx0XHRjb25zb2xlLmxvZyBAY29udGV4dFxuXG5cdGxvYWQ6KEB1cmwpLT5cblx0XHRyZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblx0XHRyZXF1ZXN0Lm9wZW4oJ0dFVCcsIEB1cmwsIHRydWUpO1xuXHRcdHJlcXVlc3QucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcblx0XHRyZXF1ZXN0Lm9ubG9hZCA9ICgpPT5cblx0XHRcdFx0QGNvbnRleHQuZGVjb2RlQXVkaW9EYXRhIHJlcXVlc3QucmVzcG9uc2UsIChidWZmZXIpPT5cblx0XHRcdFx0XHRcdEBzb3VuZEJ1ZmZlciA9IGJ1ZmZlclxuXHRcdFx0XHRcdFx0QGxvYWRlZD10cnVlXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBcImxvYWRlZCBzb3VuZFwiLCBAXG5cdFx0XHRcdFx0XHQjIEBwbGF5KClcblx0XHRcdHJlcXVlc3Quc2VuZCgpXG5cblx0cGxheTooKS0+XG5cdFx0aWYgQGxvYWRlZCA9PSBmYWxzZVxuXHRcdFx0cmV0dXJuXG5cdFx0IyBjb25zb2xlLmxvZyBcInBsYXkgQHNvdW5kQnVmZmVyXCIsIEBzb3VuZEJ1ZmZlclxuXHRcdHNvdXJjZSA9IEBjb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpXG5cdFx0c291cmNlLmJ1ZmZlciA9IEBzb3VuZEJ1ZmZlclxuXHRcdHNvdXJjZS5jb25uZWN0KEBjb250ZXh0LmRlc3RpbmF0aW9uKVxuXHRcdHNvdXJjZS5zdGFydCgwKVxuXG5cdCMgdGVzdDooKS0+XG5cdCMgXHR0cnlcblx0IyBcdFx0IyAvLyBGaXggdXAgZm9yIHByZWZpeGluZ1xuXHQjIFx0XHR3aW5kb3cuQXVkaW9Db250ZXh0ID0gd2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcblx0IyBcdFx0Y29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcblx0IyBcdFx0IyBjb25zb2xlLmxvZyAndHJ5J1xuXHQjIFx0Y2F0Y2ggZXJyb3Jcblx0IyBcdFx0IyBjb25zb2xlLmxvZyAnY2F0Y2gnXG5cdCMgXHRcdGNvbnNvbGUubG9nIFwiZXJyb3Igc2V0dGluZyB1cCBzb3VuZFwiXG5cblxuY29uc29sZS5sb2coXCJtYWluLmpzXCIpXG4jICQgLT5cbiMgXHRsYXVuY2goKVxuc25kID0gbmV3IFNvdW5kRlgoKVxubGF1bmNoKClcblxuIyBzbmQucGxheSgpXG5cbiNsb2FkIG1haW5cbiNsb2FkIGpxdWVyeSJdfQ==
